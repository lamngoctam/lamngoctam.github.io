---

layout: post
title: 3D Mesh Editor
date: March 30, 2019
primary-language: C++
framework: OpenGL
ide: QT Creator

---

<html>
<body>
  <div align=center>
    <br />
    <iframe width=100% height=512 src="https://www.youtube.com/embed/YPRqdLarCg4?autoplay=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  </div>
  <p>
    <br />
    In CIS 560 (Computer Graphics), I built a mini version of <b>Autodesk Maya</b>. The goal was to understand a geometric data structure called half-edge, which is a popular way to represent 3D geometry, and taking advantage of the relationships between components of a half-edge mesh to perform mesh editing algorithms such as extrusion, Catmull-Clark Subdivision, and triangulation. In addition, I implemented an OBJ loader to load any OBJ formatted 3D data into the editor. I also learned the structure of a skeleton-joint structure and how different methods of skinning works in order to implement linear-blend and dual quaternion skinning. This was one of my favorite projects in the course because I got to learn very important, fundamental concepts of computer graphics programming and because I am able to gain a better understanding of some of the tools that I use so much in 3D software like Max and Maya. <br />
    <br />
    The biggest challenge that I encountered with the project was when I implemented <a href="https://en.wikipedia.org/wiki/Catmull%E2%80%93Clark_subdivision_surface"><b>Catmull-Clark subdivision</b></a>. The concept sounds simple: just divide each face into quads and smooth vertices. Implementation-wise, it was fairly tricky. The hardest part was to ensure that the component pointers are set correctly, especially during quadrangulate, a process in which we divide each face of the geometry into quads. The end result is very satisfying. Smoothing meshes is a tool that exists in almost any 3D software in the market. <br />
    <br />
    <figure align="center">
      <img src="../../images/catmull.png" alt="Mesh Editor" width="680" height="auto" class="fade">
      <figcaption>Beach ball featuring Catmull-Clark Subdivision.</figcaption>
    </figure>
    <br />
    These were JSON files containing joint parent and children relationships provided for us. I used Qt JSON parsing classes (QJsonArray, QJasonObject, QJasonDocument) to parse the files and create a <b>skeleton</b> structure from it. <br />
    <br />
    <div class="row">
      <div class="column">
        <figure>
          <img src="../../images/not-twisted.png" alt="Mesh Editor" width=85% height="auto" class="fade">
          <figcaption>Before smoothing and skinning.</figcaption>
        </figure>
      </div>
      <div class="column">
        <figure>
          <img src="../../images/twisted.png" alt="Mesh Editor" width=85% height="auto" class="fade">
          <figcaption>After twisting and skinning (rotation of 60 degrees).</figcaption>
        </figure>
      </div>
    </div>
    <br />
    The skeleton can be bounded to the mesh and utilize quaternions for rotations. <br />
    <br />
    I am finding time to add more features to the editor. Currently, I have added selecting components with ray tracing, but I am not completely satisfied with the result. I wanted to allow users to select the components on mouse click more accurately, and I am looking into "picking," an OpenGL method of selecting components with mouse click. I also would like to add inserting edge loops, bevel, and sharp-component subdivision tools. <br />
    <br />
    <!-- Slideshow container -->
    <div class="slideshow-container">
      <!-- Full-width images with number and caption text -->
      <div class="mySlides fade">
        <div class="numbertext">1 / 3</div>
        <img src="../../images/extrude.png" style="width:100%">
        <div class="text">Extruding faces.</div>
      </div>
      <div class="mySlides fade">
        <div class="numbertext">2 / 3</div>
        <img src="../../images/move_vertex.png" style="width:100%">
        <div class="text">Moving vertices.</div>
      </div>

      <div class="mySlides fade">
        <div class="numbertext">3 / 3</div>
        <img src="../../images/edge_loop.png" style="width:100%">
        <div class="text">Selecting edge loop.</div>
      </div>

      <!-- Next and previous buttons -->
      <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
      <a class="next" onclick="plusSlides(1)">&#10095;</a>
    </div>
    <br>
    <!-- The dots/circles -->
    <div style="text-align:center">
      <span class="dot" onclick="currentSlide(1)"></span> 
      <span class="dot" onclick="currentSlide(2)"></span> 
      <span class="dot" onclick="currentSlide(3)"></span> 
    </div>
  </p>
</body>
<script src="../../js/slideshow.js"></script>
</html>